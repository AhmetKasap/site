<%- contentFor('extraStyles') %>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    primary: '#1e40af',
                    secondary: '#64748b',
                    accent: '#f59e0b'
                }
            }
        }
    }
</script>

<%- contentFor('body') %>
<!-- Hero Section -->
<section class="pt-20 bg-gradient-to-br from-primary to-blue-800 text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24">
        <div class="text-center">
            <h1 class="text-5xl font-bold mb-6">Hukuk Blogu</h1>
            <p class="text-xl text-blue-100 max-w-3xl mx-auto">Güncel hukuki gelişmeler ve uzman görüşlerimizle hukuki konularda sizi bilgilendiriyoruz.</p>
        </div>
    </div>
</section>

<!-- Blog Content -->
<section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Blog Posts Grid -->
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
            <% blogs.forEach(blog => { %>
            <article class="bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1">
                <div class="p-6">
                    <div class="flex items-center justify-center mb-6">
                        <% 
                        let icon = 'gavel';
                        if (blog.title.toLowerCase().includes('gayrimenkul')) icon = 'home';
                        else if (blog.title.toLowerCase().includes('iş')) icon = 'briefcase';
                        else if (blog.title.toLowerCase().includes('ticaret')) icon = 'building';
                        else if (blog.title.toLowerCase().includes('aile')) icon = 'heart';
                        else if (blog.title.toLowerCase().includes('ceza')) icon = 'balance-scale';
                        %>
                        <div class="w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center">
                            <i class="fas fa-<%= icon %> text-2xl text-primary"></i>
                        </div>
                    </div>
                    <div>
                        <div class="mb-4 text-center">
                            <span class="text-sm text-gray-500">
                                <%= new Date(blog.createdAt).toLocaleDateString('tr-TR', { 
                                    year: 'numeric', 
                                    month: 'long', 
                                    day: 'numeric' 
                                }) %>
                            </span>
                        </div>
                        <h2 class="text-xl font-bold text-gray-900 mb-3 hover:text-primary transition-colors text-center">
                            <a href="/blog/<%= blog._id %>"><%= blog.title %></a>
                        </h2>
                        <div class="relative">
                            <div class="text-gray-600 mb-4 line-clamp-2 text-center overflow-hidden"><%- blog.content.replace(/\n\s*\n/g, ' ').trim() %></div>
                            <div class="absolute bottom-0 left-0 right-0 h-4 bg-gradient-to-t from-white to-transparent"></div>
                        </div>
                        <div class="text-center">
                            <a href="/blog/<%= blog._id %>" class="inline-flex items-center text-primary font-semibold hover:text-blue-700 transition-colors">
                                Devamını Oku
                                <i class="fas fa-arrow-right ml-2 text-sm"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </article>
            <% }); %>
        </div>

        <!-- Pagination -->
        <% if (totalPages > 1) { %>
        <div class="flex justify-center items-center space-x-2">
            <% if (hasPrevPage) { %>
            <a href="/blog?page=<%= currentPage - 1 %>" 
               class="inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors">
                <i class="fas fa-chevron-left mr-2 text-xs"></i>
                Önceki
            </a>
            <% } %>

            <% 
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, startPage + 4);
            if (endPage - startPage < 4) {
                startPage = Math.max(1, endPage - 4);
            }
            %>

            <% for(let i = startPage; i <= endPage; i++) { %>
            <a href="/blog?page=<%= i %>" 
               class="inline-flex items-center px-4 py-2 <%= currentPage === i ? 'bg-primary text-white' : 'bg-white text-gray-700 hover:bg-gray-50' %> border border-gray-300 rounded-lg text-sm font-medium transition-colors">
                <%= i %>
            </a>
            <% } %>

            <% if (hasNextPage) { %>
            <a href="/blog?page=<%= currentPage + 1 %>" 
               class="inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors">
                Sonraki
                <i class="fas fa-chevron-right ml-2 text-xs"></i>
            </a>
            <% } %>
        </div>
        <% } %>
    </div>
</section>